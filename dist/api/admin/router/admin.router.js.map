{"version":3,"file":"admin.router.js","sourceRoot":"","sources":["../../../../src/api/admin/router/admin.router.ts"],"names":[],"mappings":";;;;;AAAA,+FAAsE;AACtE,qEAAqE;AACrE,8FAA0F;AAC1F,sDAA8B;AAC9B,iDAAgD;AAChD,uCAA2C;AAC3C,uFAAmF;AACnF,qFAAiF;AAEjF,MAAM,WAAW,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAErC,MAAM,eAAe,GAAG,IAAI,0BAAe,CACzC,IAAI,gCAAgB,CAClB,IAAI,kDAAuB,EAAE;AAC7B,wCAAwC;CACzC,CACF,CAAC;AAEF,MAAM,YAAY,GAAG;IACnB,yCAAyC;IACzC,OAAO,EAAE,aAAa;IACtB,mCAAmC;IACnC,UAAU,EAAE,aAAa;IACzB,+BAA+B;IAC/B,cAAc,EAAE,gBAAgB;IAChC,gCAAgC;IAChC,qBAAqB;IACrB,SAAS,EAAE,eAAe;IAC1B,gCAAgC;IAChC,YAAY,EAAE,aAAa;IAC3B,mCAAmC;IACnC,YAAY,EAAE,gBAAgB;CAC/B,CAAC;AAEF,mCAAmC;AACnC,WAAW,CAAC,IAAI,CACd,IAAA,uBAAW,EAAC,YAAY,CAAC,OAAO,EAAE,oBAAY,CAAC,SAAS,CAAC,EACzD,eAAe,CAAC,MAAM,CACvB,CAAC;AAEF,8BAA8B;AAC9B,WAAW,CAAC,GAAG,CACb,IAAA,uBAAW,EAAC,YAAY,CAAC,UAAU,EAAE,oBAAY,CAAC,SAAS,CAAC,EAC5D,IAAA,wCAAkB,EAAC,CAAC,OAAO,CAAC,CAAC,EAC7B,eAAe,CAAC,SAAS,CAC1B,CAAC;AAEF,oBAAoB;AACpB,WAAW,CAAC,GAAG,CACb,IAAA,uBAAW,EAAC,YAAY,CAAC,SAAS,EAAE,oBAAY,CAAC,SAAS,CAAC,EAC3D,IAAA,wCAAkB,EAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,EACzC,eAAe,CAAC,QAAQ,CACzB,CAAC;AAEF,kBAAkB;AAClB,WAAW,CAAC,GAAG,CACb,IAAA,uBAAW,EAAC,YAAY,CAAC,cAAc,EAAE,oBAAY,CAAC,SAAS,CAAC,EAChE,eAAe,CAAC,YAAY,CAC7B,CAAC;AAEF,2BAA2B;AAC3B,WAAW,CAAC,GAAG,CACb,IAAA,uBAAW,EAAC,YAAY,CAAC,YAAY,EAAE,oBAAY,CAAC,SAAS,CAAC,EAC9D,IAAA,wCAAkB,EAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,EACzC,0CAAmB,EACnB,eAAe,CAAC,WAAW,CAC5B,CAAC;AAEF,2BAA2B;AAC3B,WAAW,CAAC,MAAM,CAChB,IAAA,uBAAW,EAAC,YAAY,CAAC,YAAY,EAAE,oBAAY,CAAC,SAAS,CAAC;AAC9D,iCAAiC;AACjC,uBAAuB;AACvB,eAAe,CAAC,WAAW,CAC5B,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import AdminController from \"@/api/admin/controller/admin.controller\";\nimport { AdminServiceImpl } from \"@/api/admin/service/admin.service\";\nimport { MongooseAdminRepository } from \"@/api/admin/repository/mongooseAdmin.repository\";\nimport express from \"express\";\nimport { extractPath } from \"@/utils/path.util\";\nimport { ROUTES_INDEX } from \"@/api/index\";\nimport { authAdminMiddleware } from \"@/api/common/middleware/authAdmin.middleware\";\nimport { authRoleMiddleware } from \"@/api/common/middleware/authRole.middleware\";\n\nconst adminRouter = express.Router();\n\nconst adminController = new AdminController(\n  new AdminServiceImpl(\n    new MongooseAdminRepository()\n    // new MongooseSelectProductRepository()\n  )\n);\n\nconst ADMIN_ROUTES = {\n  /** 회원가입(role = admin, hospital)(post) */\n  SIGN_UP: `/api/admin/`,\n  /** 관리자 전체 조회(role = admin)(get) */\n  GET_ADMINS: `/api/admin/`,\n  /** 관리자 조회(role = user)(get) */\n  USER_GET_ADMIN: `/api/admin/:id`,\n  /** 관리자 조회(role = admin)(get) */\n  // req.admin.id로 조회하기\n  GET_ADMIN: `/api/admin/me`,\n  /** 관리자 수정(role = admin)(put) */\n  UPDATE_ADMIN: `/api/admin/`,\n  /** 관리자 삭제(role = admin)(delete) */\n  DELETE_ADMIN: `/api/admin/:id`,\n};\n\n/** 회원가입(role = admin, hospital) */\nadminRouter.post(\n  extractPath(ADMIN_ROUTES.SIGN_UP, ROUTES_INDEX.ADMIN_API),\n  adminController.signup\n);\n\n/** 관리자 전체 조회(role = admin) */\nadminRouter.get(\n  extractPath(ADMIN_ROUTES.GET_ADMINS, ROUTES_INDEX.ADMIN_API),\n  authRoleMiddleware([\"admin\"]),\n  adminController.getAdmins\n);\n\n/** 관리자 조회 for id */\nadminRouter.get(\n  extractPath(ADMIN_ROUTES.GET_ADMIN, ROUTES_INDEX.ADMIN_API),\n  authRoleMiddleware([\"admin\", \"hospital\"]),\n  adminController.getAdmin\n);\n\n/** user 관리자 조회 */\nadminRouter.get(\n  extractPath(ADMIN_ROUTES.USER_GET_ADMIN, ROUTES_INDEX.ADMIN_API),\n  adminController.getUserAdmin\n);\n\n/** 관리자 수정(role = admin) */\nadminRouter.put(\n  extractPath(ADMIN_ROUTES.UPDATE_ADMIN, ROUTES_INDEX.ADMIN_API),\n  authRoleMiddleware([\"admin\", \"hospital\"]),\n  authAdminMiddleware,\n  adminController.updateAdmin\n);\n\n/** 관리자 삭제(role = admin) */\nadminRouter.delete(\n  extractPath(ADMIN_ROUTES.DELETE_ADMIN, ROUTES_INDEX.ADMIN_API),\n  // authRoleMiddleware([\"admin\"]),\n  // authAdminMiddleware,\n  adminController.deleteAdmin\n);\n\nexport default adminRouter;\n"]}