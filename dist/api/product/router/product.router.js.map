{"version":3,"file":"product.router.js","sourceRoot":"","sources":["../../../../src/api/product/router/product.router.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAE9B,0FAAiE;AACjE,iDAAgD;AAChD,+BAAqC;AACrC,gEAAgE;AAChE,yFAAqF;AACrF,8FAA0F;AAC1F,uFAAmF;AACnF,qFAAiF;AACjF,MAAM,aAAa,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEvC,MAAM,iBAAiB,GAAG,IAAI,4BAAiB,CAC7C,IAAI,oCAAkB,CACpB,IAAI,sDAAyB,EAAE,EAC/B,IAAI,kDAAuB,EAAE,CAC9B,CACF,CAAC;AAEF,MAAM,cAAc,GAAG;IACrB,YAAY,EAAE,cAAc;IAC5B,WAAW,EAAE,yBAAyB;IACtC,cAAc,EAAE,cAAc;IAC9B,cAAc,EAAE,yBAAyB;IACzC,cAAc,EAAE,yBAAyB;CAC1C,CAAC;AAEF,aAAa,CAAC,GAAG,CACf,IAAA,uBAAW,EAAC,cAAc,CAAC,YAAY,EAAE,kBAAY,CAAC,WAAW,CAAC;AAClE,6CAA6C;AAC7C,iBAAiB,CAAC,WAAW,CAC9B,CAAC;AACF,aAAa,CAAC,GAAG,CACf,IAAA,uBAAW,EAAC,cAAc,CAAC,WAAW,EAAE,kBAAY,CAAC,WAAW,CAAC;AACjE,6CAA6C;AAC7C,iBAAiB,CAAC,UAAU,CAC7B,CAAC;AACF,aAAa,CAAC,IAAI,CAChB,IAAA,uBAAW,EAAC,cAAc,CAAC,cAAc,EAAE,kBAAY,CAAC,WAAW,CAAC,EACpE,IAAA,wCAAkB,EAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,EACzC,0CAAmB,EACnB,iBAAiB,CAAC,aAAa,CAChC,CAAC;AACF,aAAa,CAAC,GAAG,CACf,IAAA,uBAAW,EAAC,cAAc,CAAC,cAAc,EAAE,kBAAY,CAAC,WAAW,CAAC,EACpE,IAAA,wCAAkB,EAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,EACzC,0CAAmB,EACnB,iBAAiB,CAAC,aAAa,CAChC,CAAC;AACF,aAAa,CAAC,MAAM,CAClB,IAAA,uBAAW,EAAC,cAAc,CAAC,cAAc,EAAE,kBAAY,CAAC,WAAW,CAAC,EACpE,IAAA,wCAAkB,EAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,EACzC,0CAAmB,EACnB,iBAAiB,CAAC,aAAa,CAChC,CAAC;AAEF,kBAAe,aAAa,CAAC","sourcesContent":["import express from \"express\";\n\nimport ProductController from \"../controller/product.controller\";\nimport { extractPath } from \"@/utils/path.util\";\nimport { ROUTES_INDEX } from \"@/api\";\nimport { ProductServiceImpl } from \"../service/product.service\";\nimport { MongooseProductRepository } from \"../repository/mongooseProduct.repository\";\nimport { MongooseAdminRepository } from \"@/api/admin/repository/mongooseAdmin.repository\";\nimport { authAdminMiddleware } from \"@/api/common/middleware/authAdmin.middleware\";\nimport { authRoleMiddleware } from \"@/api/common/middleware/authRole.middleware\";\nconst prodcutRouter = express.Router();\n\nconst productController = new ProductController(\n  new ProductServiceImpl(\n    new MongooseProductRepository(),\n    new MongooseAdminRepository()\n  )\n);\n\nconst PRODUCT_ROUTES = {\n  GET_PRODUCTS: \"/api/product\",\n  GET_PRODUCT: \"/api/product/:productId\",\n  CREATE_PRODUCT: \"/api/product\",\n  UPDATE_PRODUCT: \"/api/product/:productId\",\n  DELETE_PRODUCT: \"/api/product/:productId\",\n};\n\nprodcutRouter.get(\n  extractPath(PRODUCT_ROUTES.GET_PRODUCTS, ROUTES_INDEX.PRODUCT_API),\n  // authRoleMiddleware([\"admin\", \"hospital\"]),\n  productController.getProducts\n);\nprodcutRouter.get(\n  extractPath(PRODUCT_ROUTES.GET_PRODUCT, ROUTES_INDEX.PRODUCT_API),\n  // authRoleMiddleware([\"admin\", \"hospital\"]),\n  productController.getProduct\n);\nprodcutRouter.post(\n  extractPath(PRODUCT_ROUTES.CREATE_PRODUCT, ROUTES_INDEX.PRODUCT_API),\n  authRoleMiddleware([\"admin\", \"hospital\"]),\n  authAdminMiddleware,\n  productController.createProduct\n);\nprodcutRouter.put(\n  extractPath(PRODUCT_ROUTES.UPDATE_PRODUCT, ROUTES_INDEX.PRODUCT_API),\n  authRoleMiddleware([\"admin\", \"hospital\"]),\n  authAdminMiddleware,\n  productController.updateProduct\n);\nprodcutRouter.delete(\n  extractPath(PRODUCT_ROUTES.DELETE_PRODUCT, ROUTES_INDEX.PRODUCT_API),\n  authRoleMiddleware([\"admin\", \"hospital\"]),\n  authAdminMiddleware,\n  productController.deleteProduct\n);\n\nexport default prodcutRouter;\n"]}